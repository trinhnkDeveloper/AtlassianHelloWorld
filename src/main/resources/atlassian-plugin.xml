<atlassian-plugin key="${atlassian.plugin.key}" name="${project.name}" plugins-version="2">
    <plugin-info>
        <description>${project.description}</description>
        <version>${project.version}</version>
        <vendor name="${project.organization.name}" url="${project.organization.url}" />
        <param name="plugin-icon">images/pluginIcon.png</param>
        <param name="plugin-logo">images/pluginLogo.png</param>
    </plugin-info>    
    
    <component key="download-service" class="jp.co.kodnet.plugins.sample.entities.DownloadHistoryImpl">
        <interface>jp.co.kodnet.plugins.sample.entities.DownloadHistory</interface>
    </component>
    
    <!-- add our i18n resource -->
    <resource type="i18n" name="hellworld" location="/resources/helloworld"/>

    <!-- add our web resources -->
    <web-resource key="hello-world-resources" name="hello-world Web Resources">
        <dependency>com.atlassian.auiplugin:ajs</dependency>
        <dependency>com.atlassian.auiplugin:aui-dialog2</dependency>
        <dependency>com.atlassian.auiplugin:aui-table</dependency>
        <dependency>com.atlassian.auiplugin:aui-forms</dependency>
        <dependency>com.atlassian.auiplugin:aui-button</dependency>
        <dependency>com.atlassian.auiplugin:aui-message</dependency>
        <dependency>com.atlassian.auiplugin:aui-flag</dependency>
        <dependency>com.atlassian.auiplugin:aui-select</dependency>
        <dependency>com.atlassian.auiplugin:aui-experimental-iconfont</dependency>
        <resource type="download" name="hello-world.css" location="css/hello-world.css"/>
        <resource type="download" name="hello-world.js" location="js/hello-world.js"/>
        <resource type="download" name="images/" location="/images"/>
        <transformation extension="js">
            <transformer key="jsI18n"/>
        </transformation>
        <context>hello-world</context>
    </web-resource>
    
    <web-item name="hello-action" key="hello-action-label" section="system.content.action/primary" weight="10">
        <label key="hello.menu.label"/>
        <link linkId="hello-action">/plugins/helloWorld/hello.action</link>
    </web-item>
    
    <web-item name="questionaire" key="questionaire-label" section="system.content.action/primary" weight="10">
        <label key="questionaire.menu.label"/>
        <link linkId="questionaire">/plugins/questionaire/input.action</link>
    </web-item>
    
    <web-item name="spacelist-label" key="spacelist-label" section="system.header/left" weight="60">
        <label key="helloworld.lang.webitem.spacelist"/>
        <link linkId="spacelist-action">/plugins/spacelist/view.action</link>
    </web-item>
    
    <xwork name="hello-world" key="hello-world">
        <description>Hello World Page</description>
        <package name="hello-world" extends="default" namespace="/plugins/helloWorld">
            <action name="hello" class="jp.co.kodnet.plugins.sample.HelloWorld">
                <result name="success" type="velocity">/view/hello_world.vm</result> 
            </action>
        </package>
    </xwork>
    <xwork name="questionaire" key="questionaire">
        <package name="questionaire" extends="default" namespace="/plugins/questionaire">
            <action name="input" class="jp.co.kodnet.plugins.sample.questionaire.InputAction">
                <result name="success" type="velocity">/view/input.vm</result>
            </action>
            <action name="output" class="jp.co.kodnet.plugins.sample.questionaire.OutputAction">
                <result name="success" type="velocity">/view/output.vm</result>
                <result name="error" type="velocity">/view/error.vm</result>
            </action>
        </package>
    </xwork>
    <xwork name="spacelist" key="spacelist">
        <package name="spacelist" extends="default" namespace="/plugins/spacelist">
            <action name="view" class="jp.co.kodnet.plugins.sample.allspace.SpaceList">
                <result name="success" type="velocity">/view/spacelist.vm</result>
                <result name="error" type="velocity">/view/hello_world.vm</result>
            </action>
            <action name="create" class="jp.co.kodnet.plugins.sample.allspace.CreateSpace">
                <result name="success" type="redirect">/plugins/spacelist/view.action?status=success</result>
                <result name="error" type="redirect">/plugins/spacelist/view.action?status=error</result>
            </action>
            <action name="spacecontent" class="jp.co.kodnet.plugins.sample.allspace.SpaceList">
                <result name="success" type="json"></result>
            </action>
            <action name="deletespace" class="jp.co.kodnet.plugins.sample.allspace.SpaceList">
                <result name="success" type="redirect">/plugins/spacelist/view.action?status=deleted</result>
            </action>
            <action name="save-attachment" class="jp.co.kodnet.plugins.sample.allspace.AttachmentDownload">
                <result name="success" type="json"></result>
            </action>
            <action name="save-history" class="jp.co.kodnet.plugins.sample.allspace.AttachmentDownload" method="doDownloadInfo">
                <result name="binary" type="stream"></result>
            </action>
        </package>
    </xwork>

    <ao key="ao-module">
        <entity>jp.co.kodnet.plugins.sample.entities.AttachmentHistory</entity>
    </ao>
    
    <component-import key="ao" name="Active Objects service" interface="com.atlassian.activeobjects.external.ActiveObjects">
          <description>Component to access Active Objects functionality from the plugin</description>
    </component-import>
</atlassian-plugin>
